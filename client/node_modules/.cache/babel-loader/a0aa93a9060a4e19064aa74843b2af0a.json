{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abeer\\\\OneDrive\\\\Desktop\\\\Main\\\\MERN_stack\\\\Exam\\\\client\\\\src\\\\components\\\\Update.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { navigate } from '@reach/router';\nimport Headers from './Headers';\nimport PetForm from './PetForm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Update = ({\n  id,\n  pets,\n  setPets\n}) => {\n  _s();\n\n  const [PetName, setPetName] = useState(\"\");\n  const [Type, setType] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n  const [skill_1, setSkill_1] = useState(\"\");\n  const [skill_2, setSkill_2] = useState(\"\");\n  const [skill_3, setSkill_3] = useState(\"\");\n  const [errors, setErrors] = useState([]);\n  useEffect(() => {\n    const ThisPet = pets.filter(pet => pet._id === id)[0];\n    setPetName(ThisPet.PetName);\n    setType(ThisPet.Type);\n    setDesc(ThisPet.desc);\n    setSkill_1(ThisPet.skill_1);\n    setSkill_2(ThisPet.skill_2);\n    setSkill_3(ThisPet.skill_3);\n  }, [id, pets]);\n\n  const updateHandler = e => {\n    e.preventDefault();\n    const updatedPet = {\n      PetName,\n      Type,\n      desc,\n      skill_1,\n      skill_2,\n      skill_3\n    };\n    axios.put(`http://localhost:8000/edit/${id}`, updatedPet).then(res => {\n      let tempArr = [...pets];\n\n      for (let i = 0; i < tempArr.length; i++) {\n        if (tempArr[i]._id === id) {\n          tempArr[i] = res.data;\n        }\n      }\n\n      setPets(tempArr);\n      navigate(\"/\");\n    }).catch(err => {\n      const errRes = err.response.data.errors;\n      const errArr = [];\n      console.log(errRes);\n\n      for (const key of Object.keys(errRes)) {\n        errArr.push(errRes[key].message);\n      }\n\n      setErrors(errArr);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Headers, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [\"Edit \", Name]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), errors.map((err, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: \"40px\"\n        },\n        children: err\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(PetForm, {\n      formHandler: updateHandler,\n      PetName: PetName,\n      setPetName: setPetName,\n      Type: setType,\n      desc: setDesc,\n      skill_1: setSkill_1,\n      skill_2: setSkill_2,\n      skill_3: setSkill_3\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Update, \"zdW8d1bZQFqw4IQjJ9aC1QbHZ38=\");\n\n_c = Update;\nexport default Update;\n\nvar _c;\n\n$RefreshReg$(_c, \"Update\");","map":{"version":3,"sources":["C:/Users/abeer/OneDrive/Desktop/Main/MERN_stack/Exam/client/src/components/Update.jsx"],"names":["React","useState","useEffect","axios","navigate","Headers","PetForm","Update","id","pets","setPets","PetName","setPetName","Type","setType","desc","setDesc","skill_1","setSkill_1","skill_2","setSkill_2","skill_3","setSkill_3","errors","setErrors","ThisPet","filter","pet","_id","updateHandler","e","preventDefault","updatedPet","put","then","res","tempArr","i","length","data","catch","err","errRes","response","errArr","console","log","key","Object","keys","push","message","Name","map","idx","marginTop"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\r\n\r\nimport axios from 'axios';\r\nimport { navigate } from '@reach/router';\r\nimport Headers from './Headers';\r\nimport PetForm from './PetForm';\r\n\r\n\r\nconst Update = ({id, pets, setPets}) => {\r\n    const [PetName, setPetName] = useState(\"\");\r\n    const [Type, setType] = useState(\"\");\r\n    const [desc, setDesc] = useState(\"\");\r\n    const [skill_1, setSkill_1] = useState(\"\");\r\n    const [skill_2, setSkill_2] = useState(\"\");\r\n    const [skill_3, setSkill_3] = useState(\"\");\r\n\r\n    const [errors, setErrors] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        const ThisPet = pets.filter(pet => pet._id === id)[0];\r\n        setPetName(ThisPet.PetName);\r\n        setType(ThisPet.Type);\r\n        setDesc(ThisPet.desc);\r\n        setSkill_1(ThisPet.skill_1);\r\n        setSkill_2(ThisPet.skill_2);\r\n        setSkill_3(ThisPet.skill_3);\r\n\r\n    }, [id, pets])\r\n\r\n    const updateHandler = e =>{\r\n        e.preventDefault();\r\n        const updatedPet = {\r\n         PetName,\r\n         Type,\r\n         desc, \r\n         skill_1,\r\n         skill_2,\r\n         skill_3\r\n\r\n        }\r\n        axios.put(`http://localhost:8000/edit/${id}`, updatedPet)\r\n            .then( res => {\r\n                let tempArr = [...pets];\r\n                for (let i=0; i< tempArr.length; i++){\r\n                    if(tempArr[i]._id === id){\r\n                        tempArr[i] = res.data;\r\n                    }\r\n                }\r\n                setPets(tempArr);\r\n                navigate(\"/\");\r\n            })\r\n            .catch(err => {\r\n                const errRes = err.response.data.errors;\r\n                const errArr = [];\r\n                console.log(errRes);\r\n                for (const key of Object.keys(errRes)){\r\n                    errArr.push(errRes[key].message);\r\n                }\r\n                setErrors(errArr);\r\n            })\r\n    }\r\n    return(\r\n        \r\n        <div>\r\n            <Headers />\r\n            <h1>Edit {Name}</h1>\r\n         \r\n              {errors.map((err, idx) => {\r\n                return(\r\n                    <p style = {{ marginTop : \"40px\"}}key={idx}>{err}</p>\r\n                )\r\n            })} \r\n\r\n            <PetForm\r\n            formHandler={updateHandler}\r\n            PetName ={PetName}\r\n            setPetName = {setPetName}\r\n            Type={setType} \r\n            desc = {setDesc}\r\n            skill_1 = {setSkill_1}\r\n            skill_2 = {setSkill_2}\r\n            skill_3 = {setSkill_3}\r\n      \r\n            />\r\n           \r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default Update;"]},"metadata":{},"sourceType":"module"}